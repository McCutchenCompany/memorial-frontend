<h2>Create a Memorial</h2>
<mat-progress-spinner *ngIf="loading$ | async"></mat-progress-spinner>
<mat-tab-group *ngIf="loaded$ | async" class="create-tabs" [selectedIndex]="activeTab" (selectedTabChange)="onTabChange($event)">
  <mat-tab label="Basic Info">
    <ng-template matTabContent>
      <app-memorial-info
        *ngIf="loaded$ | async"
        [memorialInfo]="(memorial$ | async).memorial"
        (save)="onUpdateMemorial($event)"
        (toTimeline)="onTabChange($event)"></app-memorial-info>
    </ng-template>
  </mat-tab>
  <mat-tab label="Timeline">
    <ng-template matTabContent>
      <app-create-timeline
        *ngIf="loaded$ | async"
        [memorial]="(memorial$ | async).memorial"
        [timeline]="(memorial$ | async).timeline"
        (toLocation)="onTabChange($event)"></app-create-timeline>
    </ng-template>
  </mat-tab>
  <mat-tab label="Location">
    <ng-template matTabContent>
      <app-add-location
        [latitude]="(locationSearch$ | async).latitude"
        [longitude]="(locationSearch$ | async).longitude"
        [zoom]="(locationSearch$ | async).zoom"
        [memorial_id]="(memorial$ | async).memorial.uuid"
        (toMemories)="onTabChange($event)"></app-add-location>
    </ng-template>
  </mat-tab>
  <mat-tab label="Memories">
    <ng-template matTabContent>

    </ng-template>
  </mat-tab>
</mat-tab-group>
